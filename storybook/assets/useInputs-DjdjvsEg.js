import{j as i}from"./styled-components.browser.esm-CQOLgtoS.js";import{T as f}from"./TitleContainer-BSfpPcoY.js";import{I as _}from"./InputField-D3bmtCgA.js";import{I as T}from"./Input-CThZnfnj.js";import{u as E}from"./useAutoFocus-CuA82mPR.js";import{k as o,i as d}from"./Card-DDt164ub.js";import{E as g}from"./Message-OuKfmD5w.js";import{r as m}from"./index-CsdIBAqE.js";function h({cardNumbers:s}){const{setRef:a,moveToNextInput:l}=E(o.INPUT_FIELD_COUNT,o.MAX_LENGTH),n=e=>t=>{if(!d(t.target.value)){t.target.value="";return}s.handleValues(s.values.map((p,C)=>C===e?t.target.value:p),e),l(t.target.value,e)},u=s.isClicked.some(Boolean)&&!s.isValid.every(Boolean)&&JSON.stringify(s.isClicked)!==JSON.stringify(s.isValid)?g.INVALID_CARD_NUMBER:"";return i.jsxs("div",{children:[i.jsx(f,{title:"결제할 카드 번호를 입력해 주세요.",subTitle:"본인 명의의 카드만 결제 가능합니다."}),i.jsx(_,{label:"카드 번호",inputCount:o.INPUT_FIELD_COUNT,errorMessage:u,children:Array.from({length:o.INPUT_FIELD_COUNT}).map((e,t)=>i.jsx(T,{ref:a(t),type:"text",maxLength:o.MAX_LENGTH,placeholder:"1234",value:s.values[t],onChange:n(t),isValid:s.isClicked[t]?s.isValid[t]:!0,autoFocus:t===0},t))})]})}h.__docgenInfo={description:"",methods:[],displayName:"CardNumbersInput",props:{cardNumbers:{required:!0,tsType:{name:"InputsType"},description:""}}};const L=(s,a)=>{const[l,n]=m.useState(a),[u,e]=m.useState(a.map(()=>!1)),[t,p]=m.useState(a.map(()=>!1));return{values:l,isValid:u,isClicked:t,handleValues:(I,c)=>{if(!t[c]){const r=[...t];r[c]=!0,p(r)}e(I.map(r=>s(r))),n(I)}}};export{h as C,L as u};
